# 课程课件上传功能使用说明

## 功能概述

在课程管理系统中，每个课程的课件资源处都有一个"上传课件"按钮，教师和管理员可以通过这个功能为课程上传各种格式的课件文件。

## 功能位置

### 1. 课程详情页面
- 路径：`/course/{course_id}`
- 位置：在课程详情页面的"课件资源"标签页中
- 按钮：右上角的"上传课件"按钮

### 2. 课件管理页面
- 路径：`/materials`
- 位置：专门的课件管理页面
- 功能：批量管理所有课程的课件

## 使用流程

### 教师上传课件

#### 方法一：在课程详情页面上传
1. **登录系统**
   - 使用教师账户登录
   - 用户名：`teacher`
   - 密码：`teacher123`

2. **进入课程详情**
   - 点击课程列表中的任意课程
   - 或直接访问 `/course/{course_id}`

3. **切换到课件资源标签**
   - 在课程详情页面顶部找到标签栏
   - 点击"课件资源"标签

4. **上传课件**
   - 点击右上角的"上传课件"按钮
   - 在弹出的模态框中选择文件
   - 填写课件标题和描述
   - 点击"上传课件"完成上传

#### 方法二：在课件管理页面上传
1. **访问课件管理页面**
   - 直接访问 `/materials`
   - 或通过导航菜单进入

2. **选择课程**
   - 在页面顶部的下拉框中选择要上传课件的课程

3. **上传课件**
   - 点击"上传课件"按钮
   - 按照提示完成上传

### 学生查看和下载课件

1. **登录系统**
   - 使用学生账户登录
   - 用户名：`student`
   - 密码：`student123`

2. **进入课程详情**
   - 点击课程列表中的课程
   - 切换到"课件资源"标签

3. **查看和下载**
   - 查看课件列表
   - 点击"下载"按钮获取课件

## 支持的文件格式

- **PDF文件** (.pdf) - 文档和演示文稿
- **PowerPoint文件** (.ppt, .pptx) - 演示文稿
- **Word文档** (.doc, .docx) - 文档文件
- **文本文件** (.txt) - 纯文本文件

## 文件限制

- **最大文件大小**：50MB
- **建议文件大小**：10MB以下，以确保良好的上传和下载体验

## 权限控制

### 上传权限
- ✅ 教师：可以为自己创建的课程上传课件
- ✅ 管理员：可以为所有课程上传课件
- ❌ 学生：不能上传课件

### 查看和下载权限
- ✅ 教师：可以查看和下载所有课件
- ✅ 管理员：可以查看和下载所有课件
- ✅ 学生：可以查看和下载课件

### 编辑和删除权限
- ✅ 教师：可以编辑和删除自己课程的课件
- ✅ 管理员：可以编辑和删除所有课件
- ❌ 学生：不能编辑和删除课件

## 操作说明

### 上传课件
1. 点击"上传课件"按钮
2. 选择要上传的文件
3. 填写课件标题（必填）
4. 填写课件描述（可选）
5. 点击"上传课件"按钮
6. 等待上传完成

### 下载课件
1. 在课件列表中找到要下载的课件
2. 点击"下载"按钮
3. 文件将自动下载到本地

### 编辑课件
1. 在课件列表中找到要编辑的课件
2. 点击"编辑"按钮
3. 在弹出的模态框中修改标题和描述
4. 点击"保存"按钮

### 删除课件
1. 在课件列表中找到要删除的课件
2. 点击"删除"按钮
3. 确认删除操作

## 界面说明

### 课件列表显示
- **文件类型图标**：不同颜色的图标表示不同的文件类型
- **文件类型标签**：显示文件格式（PDF、PPT、Word、TXT）
- **课件标题**：课件的名称
- **课件描述**：课件的详细说明
- **上传时间**：课件上传的日期
- **操作按钮**：下载、编辑、删除等操作

### 文件类型颜色
- **PDF文件**：红色图标和标签
- **PPT文件**：橙色图标和标签
- **Word文件**：蓝色图标和标签
- **文本文件**：绿色图标和标签

## 常见问题

### Q: 为什么看不到"上传课件"按钮？
A: 请检查以下几点：
- 确认已登录教师或管理员账户
- 确认当前课程是由您创建的（教师）或您有管理员权限
- 确认在"课件资源"标签页中

### Q: 上传失败怎么办？
A: 请检查以下几点：
- 文件大小是否超过50MB
- 文件格式是否支持（PDF、PPT、Word、TXT）
- 网络连接是否正常
- 服务器是否正常运行

### Q: 下载失败怎么办？
A: 请检查以下几点：
- 文件是否仍然存在
- 网络连接是否正常
- 浏览器是否阻止了下载

### Q: 如何批量管理课件？
A: 可以访问 `/materials` 页面进行批量管理，包括：
- 查看所有课程的课件
- 批量上传课件
- 批量编辑和删除

## 测试功能

### 运行测试脚本
```bash
cd backend
python test_course_materials.py
```

### 测试内容
1. 教师登录和上传课件
2. 学生登录和查看课件
3. 课件列表获取
4. 课件下载功能
5. 权限验证

## 技术实现

### 前端组件
- `CourseDetail.vue` - 课程详情页面
- `CourseMaterials.vue` - 课程课件展示组件
- `MaterialUpload.vue` - 课件上传组件
- `MaterialUploadModal.vue` - 上传模态框组件

### 后端API
- `POST /api/material/upload` - 上传课件
- `GET /api/material/list/{course_id}` - 获取课程课件列表
- `GET /api/material/download/{material_id}` - 下载课件
- `PUT /api/material/{material_id}` - 更新课件信息
- `DELETE /api/material/{material_id}` - 删除课件

### 数据库表
- `material` 表存储课件信息
- 与 `course` 表关联

## 总结

课程课件上传功能为教师提供了便捷的课件管理工具，学生可以方便地获取学习资料。整个功能设计简洁易用，权限控制完善，支持多种文件格式，满足教育管理系统的基本需求。 